<!DOCTYPE html>
<html>
  <head>
    <!-- start custom head snippets -->
<!-- add katex -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <title>EPI Chapter 5 - Arrays – N Truong – Dabbling into the tech world</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Dabbling into the tech world">
    <meta property="og:description" content="Dabbling into the tech world" />
    
    <meta name="author" content="N Truong" />

    
    <meta property="og:title" content="EPI Chapter 5 - Arrays" />
    <meta property="twitter:title" content="EPI Chapter 5 - Arrays" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="N Truong - Dabbling into the tech world" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

    <script type="text/javascript">
    window.MathJax = {
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    };
</script>
<script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="http://sachachua.com/blog/wp-content/uploads/2013/08/shutterstock_57890992.jpg" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">N Truong</a></h1>
            <p class="site-description">Dabbling into the tech world</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>EPI Chapter 5 - Arrays</h1>
  
  <h2> </h4>

  <div class="entry">
    <h1 id="55--delete-duplicates-from-a-sorted-array">5.5  Delete Duplicates From a Sorted Array</h1>
<p>The simplest variant of this problem gives a sorted array and asks programmers to delete all but one copies of repeated elements, shift all the remaining elements to the left of the array and output the number of remaining elements. It does not matter what the entries beyond this index is.</p>

<p><strong>Solution:</strong> The idea is as follow: because the array is sorted, we only have to check from left to right, and all copies of the same value must stay consecutive. We have to modify the array in-place, so as we step through the array, we basically need to keep track of where the current vacant index is in order to add the next distinct element. That is, as we step through, if an element is different from the current value, write it into the vacant place, and increase the vacant index by 1. If not, move to the next element.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">delete_duplicates</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">A</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span> <span class="c1">#empty case
</span>    <span class="n">write_index</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">write_index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">write_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">write_index</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">write_index</span>
</code></pre></div></div>

<h2 id="variant-1">Variant 1:</h2>
<p>Given an array and a key, modify the array in place so that all copies of the key are removed, and all previous entries shifted left. Return the number of remaining elements.</p>

<p><strong>Solution:</strong> exact same idea: step through, keeping an eye on the vacant index.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">remove_key</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="n">write_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span> <span class="n">k</span><span class="p">:</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">write_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">write_index</span><span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">,</span> <span class="n">write_index</span> 
</code></pre></div></div>

<h2 id="variant-2">Variant 2:</h2>
<p>Given a sorted array and an integer $m$, modify the array so that all copies that appear at least $m$ times will only appear $\min(2,m)$ times. Shift all elements to the left and record the number of remaining elements.</p>

<p><strong>Solution:</strong> Again it is the same idea, but this time we have to modify in order to accounts for the requirement of appearing at least $m$ times and deleting all but two copies. To do this, we add a variable that records the number of repetitions any current_value has appeared. If by the time we reach a new element, the current value has appeared for at least $m$ times, then we point our vacant index back to right after the first two copies.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">appear_m</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
    <span class="n">copies_left</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
    <span class="n">write_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">current_val</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">reps</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">current_val</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">reps</span> <span class="o">&gt;=</span> <span class="n">m</span><span class="p">:</span>
                <span class="n">write_index</span> <span class="o">-=</span> <span class="n">reps</span> <span class="o">-</span> <span class="n">copies_left</span>
            <span class="n">reps</span> <span class="o">=</span> <span class="mi">0</span> 
            <span class="n">current_val</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> 
        <span class="n">reps</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">write_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">write_index</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">,</span> <span class="n">write_index</span>
</code></pre></div></div>

<p>In all of the above cases, the time complexity is O(N) and the space complexity is O(1).</p>

<h1 id="59-generate-prime-numbers">5.9 Generate Prime Numbers</h1>
<p>Write a program that takes an integer argument and retums all the primes between 1 and that integer.</p>

<p><strong>Solution:</strong> The idea is to use the Sieve of Eratosthenes, which has been known since ancient times. As we proceed from left to right through the list of natural numbers, anytime we arrive at a number, we eliminate all of its multiples. Because we proceed in ascending order, the next non-eliminated number is actually a prime. For each prime p, we have to eliminate n/p copies of it, so the runtime is n/2 + n/3 + n/5 + …, which is roughly O(n loglog n)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">gen_primes</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
    <span class="n">bool_prime</span> <span class="o">=</span> <span class="p">[</span><span class="bp">False</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="bp">True</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">primes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">bool_prime</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">**</span><span class="mi">2</span> 
            <span class="k">while</span> <span class="n">j</span><span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">bool_prime</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">j</span><span class="o">+=</span><span class="n">i</span> 
    <span class="k">return</span> <span class="n">primes</span>
</code></pre></div></div>

  </div>

  <div class="date">
    Written on 
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/ntruongv/"><i class="svg-icon github"></i></a>








          <!-- start custom footer snippets -->

    
<!-- end custom footer snippets -->
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-148877139-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/archive/2019-9-25-Arrays/',
		  'title': 'EPI Chapter 5 - Arrays'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
